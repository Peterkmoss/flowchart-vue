{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/flowchart/index.css","webpack:///./src/components/flowchart/index.css?cbbd","webpack:///./src/assets/modal.css","webpack:///./src/components/flowchart/index.css?4774","webpack:///./src/views/App.vue?e322","webpack:///./src/components/ConnectionDialog.vue?a84f","webpack:///src/components/ConnectionDialog.vue","webpack:///./src/components/ConnectionDialog.vue?781c","webpack:///./src/components/ConnectionDialog.vue","webpack:///./src/components/NodeDialog.vue?bf04","webpack:///src/components/NodeDialog.vue","webpack:///./src/components/NodeDialog.vue?4a9d","webpack:///./src/components/NodeDialog.vue","webpack:///./src/components/flowchart/Flowchart.vue?0342","webpack:///./src/utils/math.js","webpack:///./src/utils/svg.js","webpack:///src/components/flowchart/Flowchart.vue","webpack:///./src/components/flowchart/Flowchart.vue?84a2","webpack:///./src/components/flowchart/Flowchart.vue","webpack:///./src/components/Node.js","webpack:///./src/components/Connection.js","webpack:///src/views/App.vue","webpack:///./src/views/App.vue?1fe1","webpack:///./src/views/App.vue","webpack:///./src/main.js","webpack:///./src/assets/modal.css?379c","webpack:///./src/views/App.vue?079d","webpack:///./src/views/App.vue?e191","webpack:///./src/views/App.vue?4340"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_index_css_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_index_css_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","content","locals","add","default","sourceMap","shadowMode","Appvue_type_template_id_169a91f4_scoped_true_render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","id","on","click","$event","$refs","chart","Date","x","y","type","approvers","remove","editCurrent","save","ref","nodes","connections","width","height","readonly","editnode","handleEditNode","dblclick","handleDblClick","editconnection","handleEditConnection","handleChartSave","select","handleSelect","selectconnection","handleSelectConnection","visible","nodeDialogVisible","node","nodeForm","target","update:visible","update:node","$set","connectionDialogVisible","connection","connectionForm","operation","update:connection","staticRenderFns","ConnectionDialogvue_type_template_id_46e2c904_render","staticStyle","_m","for","directives","rawName","expression","domProps","input","composing","change","$$selectedVal","Array","filter","options","selected","map","val","_value","multiple","_l","item","_s","handleClickCancelSaveConnection","handleClickSaveConnection","_e","ConnectionDialogvue_type_template_id_46e2c904_staticRenderFns","ConnectionDialogvue_type_script_lang_js_","props","Boolean","sourceId","sourcePosition","destinationId","destinationPosition","methods","_handleClickSaveConnection","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$emit","assign","stop","arguments","_handleClickCancelSaveConnection","_callee2","_context2","watch","immediate","handler","components_ConnectionDialogvue_type_script_lang_js_","component","componentNormalizer","ConnectionDialog","NodeDialogvue_type_template_id_31bc5405_render","approver","handleChangeApprover","handleClickCancelSaveNode","handleClickSaveNode","NodeDialogvue_type_template_id_31bc5405_staticRenderFns","NodeDialogvue_type_script_lang_js_","e","parseInt","components_NodeDialogvue_type_script_lang_js_","NodeDialog_component","NodeDialog","Flowchartvue_type_template_id_7dfb6cf1_render","style","isNaN","cursor","tabindex","mousemove","handleChartMouseMove","mouseup","handleChartMouseUp","handleChartDblClick","mousewheel","handleChartMouseWheel","mousedown","handleChartMouseDown","cursorToChartOffset","Flowchartvue_type_template_id_7dfb6cf1_staticRenderFns","distanceOfPointToLine","beginX","beginY","endX","endY","ptX","ptY","k","b","Math","abs","sqrt","between","num1","num2","num","approximatelyEquals","getEdgeOfPoints","points","minX","reduce","point","Infinity","maxX","minY","maxY","start","end","pointRectangleIntersection","roundTo20","number","lineTo","g","x1","y1","x2","y2","lineWidth","strokeStyle","dash","sta","lineGenerator","d3","path","append","attr","join","connect","startPosition","endPosition","markered","second","centerX","centerY","addVerticalCenterLine","third","forth","penult","addHorizontalCenterLine","addHorizontalTopLine","addHorizontalBottomLine","addVerticalRightLine","addVerticalLeftLine","addSecondXPenultY","addPenultXSecondY","direction","getDirection","indexOf","lines","paths","source","destination","sourceX","sourceY","destinationX","destinationY","finish","arrowTo","replace","Flowchartvue_type_script_lang_js_","String","Number","connectingInfo","selectionInfo","currentNodes","currentConnections","clickedOnce","pathClickedOnce","editNode","editConnection","event","stopPropagation","preventDefault","ctrlKey","svg","document","getElementById","zoom","parseFloat","deltaY","_handleChartMouseUp","tempId","conn","hoveredConnector","position","_handleChartMouseMove","boundingClientRect","actualX","actualY","sourceOffset","currentTarget","getBoundingClientRect","pageX","left","scrollX","trunc","pageY","top","scrollY","renderConnections","classed","getNodeConnectorOffset","_x","offsetX","offsetY","getConnectorPosition","halfWidth","halfHeight","bottom","right","renderSelection","that","edge","rect","forEach","every","line","Promise","resolve","$nextTick","colors","pass","reject","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","iterator","done","timer","setTimeout","clearTimeout","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","renderNodes","_renderNodes","_callee3","_this","_context3","renderNode","nodeId","connectorPosition","element","insert","guideLineTo","color","isSelected","render","drag","isNotCurrentNode","_callee4","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","currentNode","expectX","expectY","_context4","abrupt","dx","dy","t0","getCurrentNodesEdge","round","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","connectors","_loop","positionElement","connector","toConsumableArray","_remove","_callee5","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_context5","removeConnection","removeNode","t1","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","index","moveCurrentNode","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","mounted","_this2","onkeydown","keyCode","_this2$currentNodes","_this2$currentConnect","activeElement","created","computed","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","prop","entry","hypot","hoveredConnection","_this3","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_loop2","distance","v","_iterator10","_ret","esm_typeof","deep","flowchart_Flowchartvue_type_script_lang_js_","Flowchart_component","Flowchart","borderColor","AbstractNode","classCallCheck","StartNode","_AbstractNode","possibleConstructorReturn","getPrototypeOf","inherits","createClass","body","renderText","EndNode","_StartNode","OperationNode","_AbstractNode2","DesicionNode","_AbstractNode3","_this4","concat","text","each","self","textLength","getComputedTextLength","AbstractConnection","ArrowConnection","_AbstractConnection","Appvue_type_script_lang_js_","components","Node_StartNode","Node_OperationNode","Node_DesicionNode","Node_EndNode","Connection_ArrowConnection","_mounted","_handleChartSave","_x2","views_Appvue_type_script_lang_js_","App_component","App","Vue","config","productionTip","el","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_169a91f4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_id_169a91f4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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MAEF,QACEC,IACA,WAGC,GAAsB,WAAlBhB,EACT,OAAQC,GACN,IAAK,MACHK,IACA,MAEF,QACEU,IACA,WAGC,GAAsB,QAAlBhB,EACT,OAAQC,GACN,IAAK,QACHK,IACA,MAEF,QACES,IACA,WAKJ,OAAQd,GACN,IAAK,OACL,IAAK,MACHc,IACA,MACF,QACEL,IACA,MAIN,MACF,IAAK,IACH,GAAsB,UAAlBV,EACF,OAAQC,GACN,IAAK,OACL,IAAK,QACL,IAAK,MACHU,IACA,MACF,QACEC,IACA,WAGC,GAAsB,WAAlBZ,EACT,OAAQC,GACN,IAAK,OACHW,IACA,MAEF,IAAK,QACHG,IACA,MAEF,IAAK,MACHT,IACA,MAEF,QACE,WAGC,GAAsB,QAAlBN,EACT,OAAQC,GACN,IAAK,OACHU,IACA,MAEF,IAAK,QACHI,IACA,MAEF,IAAK,MACH,MAEF,QACET,IACA,WAKJ,OAAQL,GACN,IAAK,OACHU,IACA,MAEF,IAAK,QACH,MAEF,QACEI,IACA,MAIN,MACF,IAAK,IACH,GAAsB,UAAlBf,EACF,OAAQC,GACN,IAAK,OACH,MAEF,IAAK,QACHU,IACA,MAEF,QACEI,IACA,WAGC,GAAsB,WAAlBf,EACT,OAAQC,GACN,IAAK,OACHc,IACA,MAEF,IAAK,QACHH,IACA,MAEF,IAAK,MACHN,IACA,MAEF,QACE,WAGC,GAAsB,QAAlBN,EACT,OAAQC,GACN,IAAK,OACHe,IACA,MAEF,IAAK,QACHL,IACA,MAEF,IAAK,MACH,MAEF,QACEL,IACA,WAKJ,OAAQL,GACN,IAAK,OACL,IAAK,QACL,IAAK,MACHU,IACA,MACF,QACEC,IACA,MAIN,MACF,IAAK,KACH,GAAsB,UAAlBZ,EACF,OAAQC,GACN,IAAK,OACHS,IACA,MAEF,QACEK,IACA,WAGC,GAAsB,WAAlBf,EACT,OAAQC,GACN,IAAK,OACHe,IACA,MAEF,IAAK,MACHN,IACA,MAEF,QACEK,IACA,WAGC,GAAsB,QAAlBf,EACT,OAAQC,GACN,IAAK,OACL,IAAK,QACL,IAAK,MACHe,IACA,MACF,QACEV,IACA,WA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","file":"js/app.2f64fc6e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/flowchart-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#svg{background-size:20px 20px,20px 20px,10px 10px,10px 10px;background-image:linear-gradient(90deg,#dfdfdf 1px,transparent 0),linear-gradient(180deg,#dfdfdf 1px,transparent 0),linear-gradient(90deg,#f1f1f1 1px,transparent 0),linear-gradient(180deg,#f1f1f1 1px,transparent 0);background-position:left -1px top -1px,left -1px top -1px,left -1px top -1px,left -1px top -1px;height:100%;width:100%}#chart{position:relative;width:800px;height:600px;border:1px solid #dfdfdf}#position{position:absolute;right:4px}.unselectable{moz-user-select:-moz-none;-moz-user-select:none;-o-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.connector{cursor:crosshair;opacity:0}.connector.active{opacity:1;fill:#fff;stroke:#bbb;stroke-width:1px}.connector:hover{stroke:red}#svg .selection{stroke:#add8e6;fill:#add8e6;fill-opacity:.8;display:none}#svg .selection.active{display:block}\", \"\"]);\n\n// exports\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!./index.css?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!./index.css?vue&type=style&index=0&lang=css&\"","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal{border:1px solid #d3d3d3;box-shadow:2px 2px 1px #d3d3d3;background-color:#fff;position:absolute;top:100px;left:0;right:0;margin-left:auto;margin-right:auto}.form-control{display:block;width:100%;height:30px;margin-bottom:10px}.footer{padding:10px;text-align:right}.footer>button{margin-left:10px}.body,.header{padding:10px}.header{border-bottom:1px solid #d3d3d3}\", \"\"]);\n\n// exports\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!./index.css?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3d8912d2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Flowchart Vue\")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"\\n    Flowchart & Flowchart designer component for Vue.js.\\n  \")]),_c('div',{attrs:{\"id\":\"toolbar\"}},[_c('button',{on:{\"click\":function($event){_vm.$refs.chart.add({\n          id: +new Date(),\n          x: 10,\n          y: 10,\n          name: 'New',\n          type: 'operation',\n          approvers: [],\n        })}}},[_vm._v(\"\\n      Add(Double-click canvas)\\n    \")]),_c('button',{on:{\"click\":function($event){return _vm.$refs.chart.remove()}}},[_vm._v(\"Delete(Del)\")]),_c('button',{on:{\"click\":function($event){return _vm.$refs.chart.editCurrent()}}},[_vm._v(\"\\n      Edit(Double-click node)\\n    \")]),_c('button',{on:{\"click\":function($event){return _vm.$refs.chart.save()}}},[_vm._v(\"Save\")])]),_c('flowchart',{ref:\"chart\",attrs:{\"nodes\":_vm.nodes,\"connections\":_vm.connections,\"width\":'100%',\"height\":500,\"readonly\":false},on:{\"editnode\":_vm.handleEditNode,\"dblclick\":_vm.handleDblClick,\"editconnection\":_vm.handleEditConnection,\"save\":_vm.handleChartSave,\"select\":_vm.handleSelect,\"selectconnection\":_vm.handleSelectConnection}}),_c('node-dialog',{attrs:{\"visible\":_vm.nodeDialogVisible,\"node\":_vm.nodeForm.target},on:{\"update:visible\":function($event){_vm.nodeDialogVisible=$event},\"update:node\":function($event){return _vm.$set(_vm.nodeForm, \"target\", $event)}}}),_c('connection-dialog',{attrs:{\"visible\":_vm.connectionDialogVisible,\"connection\":_vm.connectionForm.target,\"operation\":_vm.connectionForm.operation},on:{\"update:visible\":function($event){_vm.connectionDialogVisible=$event},\"update:connection\":function($event){return _vm.$set(_vm.connectionForm, \"target\", $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.visible)?_c('div',{staticClass:\"modal\",staticStyle:{\"width\":\"320px\"}},[_vm._m(0),_c('div',{staticClass:\"body\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.connectionForm.name),expression:\"connectionForm.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\"},domProps:{\"value\":(_vm.connectionForm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.connectionForm, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"type\"}},[_vm._v(\"Type\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.connectionForm.type),expression:\"connectionForm.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.connectionForm, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l(([ { name: 'Pass', id: 'pass' }, { name: 'Reject', id: 'reject' } ]),function(item){return _c('option',{key:'connection-type-' + item.id,domProps:{\"value\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])}),0)]),_c('div',{staticClass:\"footer\"},[_c('button',{on:{\"click\":_vm.handleClickCancelSaveConnection}},[_vm._v(\"Cancel\")]),_c('button',{on:{\"click\":_vm.handleClickSaveConnection}},[_vm._v(\"Ok\")])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"Edit\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"modal\" v-if=\"visible\" style=\"width: 320px\">\n            <div class=\"header\">\n                <span>Edit</span>\n            </div>\n            <div class=\"body\">\n                <label for=\"name\">Name</label>\n                <input id=\"name\" class=\"form-control\" v-model=\"connectionForm.name\"/>\n                <label for=\"type\">Type</label>\n                <select id=\"type\" class=\"form-control\" v-model=\"connectionForm.type\">\n                    <option :key=\"'connection-type-' + item.id\"\n                            v-for=\"item in [ { name: 'Pass', id: 'pass' }, { name: 'Reject', id: 'reject' } ]\"\n                            :value=\"item.id\">\n                        {{item.name}}\n                    </option>\n                </select>\n            </div>\n            <div class=\"footer\">\n                <button @click=\"handleClickCancelSaveConnection\">Cancel</button>\n                <button @click=\"handleClickSaveConnection\">Ok</button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n  import '../assets/modal.css';\n\n  export default {\n    props: {\n      visible: {\n        type: Boolean,\n        default: false,\n      },\n      connection: {\n        type: Object,\n        default: null,\n      },\n    },\n    data() {\n      return {\n        connectionForm: {\n          type: null,\n          sourceId: null,\n          sourcePosition: null,\n          destinationId: null,\n          destinationPosition: null,\n          name: null,\n          expression: null,\n        },\n      };\n    },\n    methods: {\n      async handleClickSaveConnection() {\n        this.$emit('update:visible', false);\n        this.$emit('update:connection', Object.assign(this.connection, {\n          name: this.connectionForm.name,\n          type: this.connectionForm.type,\n          expression: this.connectionForm.expression,\n        }));\n      },\n      async handleClickCancelSaveConnection() {\n        this.$emit('update:visible', false);\n      },\n    },\n    watch: {\n      connection: {\n        immediate: true,\n        handler(val) {\n          if (!val) { return; }\n          this.connectionForm.id = val.id;\n          this.connectionForm.type = val.type;\n          this.connectionForm.name = val.name;\n          this.connectionForm.expression = val.expression;\n        },\n      },\n    },\n  };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectionDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectionDialog.vue?vue&type=template&id=46e2c904&\"\nimport script from \"./ConnectionDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectionDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.visible)?_c('div',{staticClass:\"modal\",staticStyle:{\"width\":\"320px\"}},[_vm._m(0),_c('div',{staticClass:\"body\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nodeForm.name),expression:\"nodeForm.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\"},domProps:{\"value\":(_vm.nodeForm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.nodeForm, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"type\"}},[_vm._v(\"Type\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nodeForm.type),expression:\"nodeForm.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.nodeForm, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l(([ { name: 'Start', id: 'start' }, { name: 'End', id: 'end' }, { name: 'Operation', id: 'operation' } ]),function(item){return _c('option',{key:'node-type-' + item.id,domProps:{\"value\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])}),0),_c('label',{attrs:{\"for\":\"approver\"}},[_vm._v(\"Approver\")]),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"approver\"},domProps:{\"value\":_vm.nodeForm.approver.id},on:{\"change\":function($event){return _vm.handleChangeApprover($event)}}},_vm._l((_vm.approvers),function(item){return _c('option',{key:'approver-' + item.id,domProps:{\"value\":item.id}},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])}),0)]),_c('div',{staticClass:\"footer\"},[_c('button',{on:{\"click\":_vm.handleClickCancelSaveNode}},[_vm._v(\"Cancel\")]),_c('button',{on:{\"click\":_vm.handleClickSaveNode}},[_vm._v(\"Ok\")])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"Edit\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"modal\" v-if=\"visible\" style=\"width: 320px\">\n            <div class=\"header\">\n                <span>Edit</span>\n            </div>\n            <div class=\"body\">\n                <label for=\"name\">Name</label>\n                <input class=\"form-control\" id=\"name\" v-model=\"nodeForm.name\"/>\n                <label for=\"type\">Type</label>\n                <select class=\"form-control\" id=\"type\" v-model=\"nodeForm.type\">\n                    <option :key=\"'node-type-' + item.id\" :value=\"item.id\"\n                            v-for=\"item in [ { name: 'Start', id: 'start' }, { name: 'End', id: 'end' }, { name: 'Operation', id: 'operation' } ]\"\n                    >\n                        {{item.name}}\n                    </option>\n                </select>\n                <label for=\"approver\">Approver</label>\n                <select class=\"form-control\" id=\"approver\" :value=\"nodeForm.approver.id\"\n                        @change=\"handleChangeApprover($event)\">\n                    <option :value=\"item.id\" :key=\"'approver-' + item.id\" v-for=\"item in approvers\">\n                        {{item.name}}\n                    </option>\n                </select>\n            </div>\n            <div class=\"footer\">\n                <button @click=\"handleClickCancelSaveNode\">Cancel</button>\n                <button @click=\"handleClickSaveNode\">Ok</button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n  import '../assets/modal.css';\n\n  export default {\n    props: {\n      visible: {\n        type: Boolean,\n        default: false,\n      },\n      node: {\n        type: Object,\n        default: null,\n      },\n    },\n    data: function() {\n      return {\n        nodeForm: {name: null, id: null, type: null, approver: []},\n        approvers: [{id: 1, name: 'Joyce'}, {id: 2, name: 'Allen'}, {id: 3, name: 'Teresa'}],\n      };\n    },\n    methods: {\n      handleClickSaveNode() {\n        this.$emit('update:node', Object.assign(this.node, {\n          name: this.nodeForm.name,\n          type: this.nodeForm.type,\n          approvers: [Object.assign({}, this.nodeForm.approver)],\n        }));\n        this.$emit('update:visible', false);\n      },\n      handleClickCancelSaveNode() {\n        this.$emit('update:visible', false);\n      },\n      handleChangeApprover(e) {\n        this.nodeForm.approver = this.approvers.filter(i => i.id === parseInt(e.target.value))[0];\n      },\n    },\n    watch: {\n      node: {\n        immediate: true,\n        handler(val) {\n          if (!val) { return; }\n          this.nodeForm.id = val.id;\n          this.nodeForm.name = val.name;\n          this.nodeForm.type = val.type;\n          if (val.approvers && val.approvers.length > 0) {\n            this.nodeForm.approver = val.approvers[0];\n          }\n        },\n      },\n    },\n  };\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeDialog.vue?vue&type=template&id=31bc5405&\"\nimport script from \"./NodeDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:({\n    width: isNaN(_vm.width) ? _vm.width : _vm.width + 'px',\n    height: isNaN(_vm.height) ? _vm.height : _vm.height + 'px',\n    cursor: _vm.cursor,\n  }),attrs:{\"id\":\"chart\",\"tabindex\":\"0\"},on:{\"mousemove\":_vm.handleChartMouseMove,\"mouseup\":_vm.handleChartMouseUp,\"dblclick\":function($event){return _vm.handleChartDblClick($event)},\"mousewheel\":_vm.handleChartMouseWheel,\"mousedown\":function($event){return _vm.handleChartMouseDown($event)}}},[_c('span',{staticClass:\"unselectable\",attrs:{\"id\":\"position\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.cursorToChartOffset.x + \", \" + _vm.cursorToChartOffset.y)+\"\\n  \")]),_c('svg',{attrs:{\"id\":\"svg\"}},[_c('rect',{staticClass:\"selection\",attrs:{\"height\":\"0\",\"width\":\"0\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function distanceOfPointToLine(beginX, beginY, endX, endY, ptX, ptY) {\n  const k = (endY - beginY || 1) / (endX - beginX || 1);\n  const b = beginY - k * beginX;\n  return Math.abs(k * ptX - ptY + b) / Math.sqrt(k * k + 1);\n}\n\nfunction between(num1, num2, num) {\n  return (num > num1 && num < num2) || (num > num2 && num < num1);\n}\n\nfunction approximatelyEquals(n, m) {\n  return Math.abs(m - n) <= 3;\n}\n\nfunction getEdgeOfPoints(points) {\n  let minX = points.reduce((prev, point) => {\n    return point.x < prev ? point.x : prev;\n  }, Infinity);\n  let maxX = points.reduce((prev, point) => {\n    return point.x > prev ? point.x : prev;\n  }, 0);\n  let minY = points.reduce((prev, point) => {\n    return point.y < prev ? point.y : prev;\n  }, Infinity);\n  let maxY = points.reduce((prev, point) => {\n    return point.y > prev ? point.y : prev;\n  }, 0);\n  return {start: {x: minX, y: minY}, end: {x: maxX, y: maxY}};\n}\n\nfunction pointRectangleIntersection(p, r) {\n  return p.x > r.start.x && p.x < r.end.x && p.y > r.start.y && p.y < r.end.y;\n}\n\nfunction roundTo20(number) {\n  return number < 20 ? 20 : number;\n}\n\nexport {\n  distanceOfPointToLine,\n  between,\n  approximatelyEquals,\n  getEdgeOfPoints,\n  pointRectangleIntersection,\n  roundTo20,\n};\n","import * as d3 from 'd3';\nimport {approximatelyEquals} from './math';\n\nfunction lineTo(g, x1, y1, x2, y2, lineWidth, strokeStyle, dash) {\n  let sta = [x1, y1];\n  let end = [x2, y2];\n  let lineGenerator = d3.line().x(d => d[0]).y(d => d[1]);\n  let path = g.append('path').\n      attr('stroke', strokeStyle).\n      attr('stroke-width', lineWidth).\n      attr('fill', 'none').\n      attr('d', lineGenerator([sta, end]));\n  if (dash) {\n    path.style('stroke-dasharray', dash.join(','));\n  }\n  return path;\n}\n\nfunction connect(g, x1, y1, x2, y2, startPosition, endPosition, lineWidth,\n                 strokeStyle, markered) {\n  if (!endPosition) {\n    endPosition = x1 > x2 ? 'right' : 'left';\n  }\n  \n  let points = [];\n  let start = [x1, y1];\n  let end = [x2, y2];\n  let centerX = start[0] + (end[0] - start[0]) / 2;\n  let centerY = start[1] + (end[1] - start[1]) / 2;\n  let second;\n  let addVerticalCenterLine = function() {\n    let third = [centerX, second[1]];\n    let forth = [centerX, penult[1]];\n    points.push(third);\n    points.push(forth);\n  };\n  let addHorizontalCenterLine = function() {\n    let third = [second[0], centerY];\n    let forth = [penult[0], centerY];\n    points.push(third);\n    points.push(forth);\n  };\n  let addHorizontalTopLine = function() {\n    points.push([second[0], start[1] - 50]);\n    points.push([penult[0], start[1] - 50]);\n  };\n  let addHorizontalBottomLine = function() {\n    points.push([second[0], start[1] + 50]);\n    points.push([penult[0], start[1] + 50]);\n  };\n  let addVerticalRightLine = function() {\n    points.push([start[0] + 80, second[1]]);\n    points.push([start[0] + 80, penult[1]]);\n  };\n  let addVerticalLeftLine = function() {\n    points.push([start[0] - 80, second[1]]);\n    points.push([start[0] - 80, penult[1]]);\n  };\n  let addSecondXPenultY = function() {\n    points.push([second[0], penult[1]]);\n  };\n  let addPenultXSecondY = function() {\n    points.push([penult[0], second[1]]);\n  };\n  switch (startPosition) {\n    case 'left':\n      second = [start[0] - 20, start[1]];\n      break;\n    case 'top':\n      second = [start[0], start[1] - 20];\n      break;\n    case 'bottom':\n      second = [start[0], start[1] + 20];\n      break;\n    default:\n      second = [start[0] + 20, start[1]];\n      break;\n  }\n  let penult = null;\n  switch (endPosition) {\n    case 'right':\n      penult = [end[0] + 20, end[1]];\n      break;\n    case 'top':\n      penult = [end[0], end[1] - 20];\n      break;\n    case 'bottom':\n      penult = [end[0], end[1] + 20];\n      break;\n    default:\n      penult = [end[0] - 20, end[1]];\n      break;\n  }\n  points.push(start);\n  points.push(second);\n  startPosition = startPosition || 'right';\n  endPosition = endPosition || 'left';\n  let direction = getDirection(x1, y1, x2, y2);\n  if (direction.indexOf('r') > -1) {\n    if (startPosition === 'right' || endPosition === 'left') {\n      if (second[0] > centerX) {\n        second[0] = centerX;\n      }\n      if (penult[0] < centerX) {\n        penult[0] = centerX;\n      }\n    }\n  }\n  if (direction.indexOf('d') > -1) {\n    if (startPosition === 'bottom' || endPosition === 'top') {\n      if (second[1] > centerY) {\n        second[1] = centerY;\n      }\n      if (penult[1] < centerY) {\n        penult[1] = centerY;\n      }\n    }\n  }\n  if (direction.indexOf('l') > -1) {\n    if (startPosition === 'left' || endPosition === 'right') {\n      if (second[0] < centerX) {\n        second[0] = centerX;\n      }\n      if (penult[0] > centerX) {\n        penult[0] = centerX;\n      }\n    }\n  }\n  if (direction.indexOf('u') > -1) {\n    if (startPosition === 'top' || endPosition === 'bottom') {\n      if (second[1] < centerY) {\n        second[1] = centerY;\n      }\n      if (penult[1] > centerY) {\n        penult[1] = centerY;\n      }\n    }\n  }\n  switch (direction) {\n    case 'lu': {\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'top':\n          case 'right':\n            addSecondXPenultY();\n            break;\n          default: {\n            addHorizontalCenterLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'top':\n            addVerticalCenterLine();\n            break;\n          default: {\n            addPenultXSecondY();\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'top':\n          case 'right':\n            addSecondXPenultY();\n            break;\n          default: {\n            addHorizontalCenterLine();\n            break;\n          }\n        }\n      } else {\n        // startPosition is left\n        switch (endPosition) {\n          case 'top':\n          case 'right':\n            addVerticalCenterLine();\n            break;\n          default: {\n            addPenultXSecondY();\n            break;\n          }\n        }\n      }\n      break;\n    }\n    case 'u':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'right': {\n            break;\n          }\n          case 'top': {\n            addSecondXPenultY();\n            break;\n          }\n          default: {\n            addHorizontalCenterLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n            addPenultXSecondY();\n            break;\n          default: {\n            addVerticalRightLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'left': {\n            addPenultXSecondY();\n            break;\n          }\n          case 'right': {\n            addHorizontalCenterLine();\n            break;\n          }\n          case 'top':\n            addVerticalRightLine();\n            break;\n          default: {\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n            break;\n          default: {\n            points.push([second[0], penult[1]]);\n            break;\n          }\n        }\n      }\n      break;\n    case 'ru':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'left': {\n            addVerticalCenterLine();\n            break;\n          }\n          case 'top': {\n            addSecondXPenultY();\n            break;\n          }\n          default: {\n            addPenultXSecondY();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'top': {\n            addVerticalCenterLine();\n            break;\n          }\n          default: {\n            addPenultXSecondY();\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'right': {\n            addVerticalCenterLine();\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left':\n          case 'top':\n            addSecondXPenultY();\n            break;\n          default: {\n            addHorizontalCenterLine();\n            break;\n          }\n        }\n      }\n      break;\n    case 'l':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n          case 'top':\n            addHorizontalTopLine();\n            break;\n          default: {\n            addHorizontalBottomLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'left': {\n            addHorizontalBottomLine();\n            break;\n          }\n          case 'right': {\n            addSecondXPenultY();\n            break;\n          }\n          case 'top': {\n            addVerticalCenterLine();\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'left': {\n            addHorizontalTopLine();\n            break;\n          }\n          case 'right': {\n            addSecondXPenultY();\n            break;\n          }\n          case 'top': {\n            break;\n          }\n          default: {\n            addVerticalCenterLine();\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left': {\n            addHorizontalTopLine();\n            break;\n          }\n          case 'right': {\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      }\n      break;\n    case 'r':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'left': {\n            break;\n          }\n          case 'right': {\n            addHorizontalTopLine();\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'left': {\n            addSecondXPenultY();\n            break;\n          }\n          case 'right': {\n            addHorizontalBottomLine();\n            break;\n          }\n          case 'top': {\n            addVerticalCenterLine();\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'left': {\n            addPenultXSecondY();\n            break;\n          }\n          case 'right': {\n            addHorizontalTopLine();\n            break;\n          }\n          case 'top': {\n            break;\n          }\n          default: {\n            addVerticalCenterLine();\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n          case 'top':\n            addHorizontalTopLine();\n            break;\n          default: {\n            addHorizontalBottomLine();\n            break;\n          }\n        }\n      }\n      break;\n    case 'ld':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'left': {\n            addHorizontalCenterLine();\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'left': {\n            addPenultXSecondY();\n            break;\n          }\n          case 'top': {\n            addHorizontalCenterLine();\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n          case 'top':\n            addPenultXSecondY();\n            break;\n          default: {\n            addVerticalCenterLine();\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left':\n          case 'top':\n            addPenultXSecondY();\n            break;\n          case 'right': {\n            addVerticalCenterLine();\n            break;\n          }\n          default: {\n            addSecondXPenultY();\n            break;\n          }\n        }\n      }\n      break;\n    case 'd':\n      if (startPosition === 'right') {\n        switch (endPosition) {\n          case 'left': {\n            addHorizontalCenterLine();\n            break;\n          }\n          case 'right': {\n            addPenultXSecondY();\n            break;\n          }\n          case 'top': {\n            addSecondXPenultY();\n            break;\n          }\n          default: {\n            addVerticalRightLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'bottom') {\n        switch (endPosition) {\n          case 'left':\n          case 'right':\n            addPenultXSecondY();\n            break;\n          case 'top': {\n            break;\n          }\n          default: {\n            addVerticalRightLine();\n            break;\n          }\n        }\n      } else if (startPosition === 'top') {\n        switch (endPosition) {\n          case 'left': {\n            addVerticalLeftLine();\n            break;\n          }\n          default: {\n            addVerticalRightLine();\n            break;\n          }\n        }\n      } else {\n        // left\n        switch (endPosition) {\n          case 'left': {\n            break;\n          }\n          case 'right': {\n            addHorizontalCenterLine();\n            break;\n          }\n          case 'top': {\n            addSecondXPenultY();\n            break;\n          }\n          default: {\n            addVerticalLeftLine();\n            break;\n          }\n        }\n      }\n      break;\n    case 'rd': {\n      if (startPosition === 'right' && endPosition === 'left') {\n        addVerticalCenterLine();\n      } else if (startPosition === 'right' && endPosition === 'bottom') {\n        addSecondXPenultY();\n      } else if (\n          (startPosition === 'right' && endPosition === 'top') ||\n          (startPosition === 'right' && endPosition === 'right')\n      ) {\n        addPenultXSecondY();\n      } else if (startPosition === 'bottom' && endPosition === 'left') {\n        addSecondXPenultY();\n      } else if (startPosition === 'bottom' && endPosition === 'right') {\n        addPenultXSecondY();\n      } else if (startPosition === 'bottom' && endPosition === 'top') {\n        addHorizontalCenterLine();\n      } else if (startPosition === 'bottom' && endPosition === 'bottom') {\n        addSecondXPenultY();\n      } else if (startPosition === 'top' && endPosition === 'left') {\n        addPenultXSecondY();\n      } else if (startPosition === 'top' && endPosition === 'right') {\n        addPenultXSecondY();\n      } else if (startPosition === 'top' && endPosition === 'top') {\n        addPenultXSecondY();\n      } else if (startPosition === 'top' && endPosition === 'bottom') {\n        addVerticalCenterLine();\n      } else if (startPosition === 'left' && endPosition === 'left') {\n        addSecondXPenultY();\n      } else if (startPosition === 'left' && endPosition === 'right') {\n        addHorizontalCenterLine();\n      } else if (startPosition === 'left' && endPosition === 'top') {\n        addHorizontalCenterLine();\n      } else if (startPosition === 'left' && endPosition === 'bottom') {\n        addSecondXPenultY();\n      }\n      break;\n    }\n  }\n  points.push(penult);\n  points.push(end);\n\n  let lines = [];\n  let paths = [];\n  for (let i = 0; i < points.length; i++) {\n    let source = points[i];\n    let destination = points[i + 1];\n    lines.push({\n      sourceX: source[0],\n      sourceY: source[1],\n      destinationX: destination[0],\n      destinationY: destination[1],\n    });\n    let finish = i === points.length - 2;\n    if (finish && markered) {\n      let path = arrowTo(g, source[0], source[1], destination[0],\n          destination[1], lineWidth, strokeStyle);\n      paths.push(path);\n      break;\n    } else {\n      let path = lineTo(g, source[0], source[1], destination[0], destination[1],\n          lineWidth, strokeStyle);\n      paths.push(path);\n    }\n    if (finish) {\n      break;\n    }\n  }\n  return {lines, paths};\n}\n\nfunction arrowTo(g, x1, y1, x2, y2, lineWidth, strokeStyle) {\n  let path = lineTo(g, x1, y1, x2, y2, lineWidth, strokeStyle);\n  const id = 'arrow' + strokeStyle.replace('#', '');\n  g.append('marker').\n      attr('id', id).\n      attr('markerUnits', 'strokeWidth').\n      attr('viewBox', '0 0 12 12').\n      attr('refX', 9).\n      attr('refY', 6).\n      attr('markerWidth', 12).\n      attr('markerHeight', 12).\n      attr('orient', 'auto').\n      append('path').\n      attr('d', 'M2,2 L10,6 L2,10 L6,6 L2,2').\n      attr('fill', strokeStyle);\n  path.attr('marker-end', 'url(#' + id + ')');\n  return path;\n}\n\nfunction getDirection(x1, y1, x2, y2) {\n  // Use approximatelyEquals to fix the problem of css position presicion\n  if (x2 < x1 && approximatelyEquals(y2, y1)) {\n    return 'l';\n  }\n  if (x2 > x1 && approximatelyEquals(y2, y1)) {\n    return 'r';\n  }\n  if (approximatelyEquals(x2, x1) && y2 < y1) {\n    return 'u';\n  }\n  if (approximatelyEquals(x2, x1) && y2 > y1) {\n    return 'd';\n  }\n  if (x2 < x1 && y2 < y1) {\n    return 'lu';\n  }\n  if (x2 > x1 && y2 < y1) {\n    return 'ru';\n  }\n  if (x2 < x1 && y2 > y1) {\n    return 'ld';\n  }\n  return 'rd';\n}\n\nexport {\n  arrowTo,\n  lineTo,\n  getDirection,\n  connect,\n};\n","<template>\n  <div\n    id=\"chart\"\n    tabindex=\"0\"\n    :style=\"{\n      width: isNaN(width) ? width : width + 'px',\n      height: isNaN(height) ? height : height + 'px',\n      cursor: cursor,\n    }\"\n    @mousemove=\"handleChartMouseMove\"\n    @mouseup=\"handleChartMouseUp\"\n    @dblclick=\"handleChartDblClick($event)\"\n    @mousewheel=\"handleChartMouseWheel\"\n    @mousedown=\"handleChartMouseDown($event)\"\n  >\n    <span id=\"position\" class=\"unselectable\">\n      {{ cursorToChartOffset.x + \", \" + cursorToChartOffset.y }}\n    </span>\n    <svg id=\"svg\">\n      <rect class=\"selection\" height=\"0\" width=\"0\"></rect>\n    </svg>\n  </div>\n</template>\n<style src=\"./index.css\"></style>\n<script>\nimport { connect, lineTo } from \"../../utils/svg\";\nimport * as d3 from \"d3\";\nimport {\n  between,\n  distanceOfPointToLine,\n  getEdgeOfPoints,\n  pointRectangleIntersection,\n} from \"../../utils/math\";\n\nexport default {\n  name: \"flowchart\",\n  props: {\n    nodes: {\n      type: Array,\n      default: () => [],\n    },\n    connections: {\n      type: Array,\n      default: () => [],\n    },\n    width: {\n      type: [String, Number],\n      default: 800,\n    },\n    height: {\n      type: [String, Number],\n      default: 600,\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      connectingInfo: {\n        source: null,\n        sourcePosition: null,\n      },\n      selectionInfo: null,\n      currentNodes: [],\n      currentConnections: [],\n      /**\n       * Mouse position(relative to chart div)\n       */\n      cursorToChartOffset: { x: 0, y: 0 },\n      clickedOnce: false,\n      pathClickedOnce: false,\n      /**\n       * lines of all connections\n       */\n      lines: [],\n    };\n  },\n  methods: {\n\n    add(node) {\n      if (this.readonly) {\n        return;\n      }\n      this.nodes.push(node);\n      this.$emit(\"add\", node, this.nodes, this.connections);\n    },\n\n    editCurrent() {\n      if (this.currentNodes.length === 1) {\n        this.editNode(this.currentNodes[0]);\n      } else if (this.currentConnections.length === 1) {\n        this.editConnection(this.currentConnections[0]);\n      }\n    },\n\n    editNode(node) {\n      if (this.readonly) {\n        return;\n      }\n      this.$emit(\"editnode\", node);\n    },\n\n    editConnection(connection) {\n      if (this.readonly) {\n        return;\n      }\n      this.$emit(\"editconnection\", connection);\n    },\n\n    handleChartMouseWheel(event) {\n      event.stopPropagation();\n      event.preventDefault();\n      if (event.ctrlKey) {\n        let svg = document.getElementById(\"svg\");\n        let zoom = parseFloat(svg.style.zoom || 1);\n        if (event.deltaY > 0 && zoom === 0.1) {\n          return;\n        }\n        zoom -= event.deltaY / 100 / 10;\n        svg.style.zoom = zoom;\n      }\n    },\n\n    async handleChartMouseUp() {\n      if (this.connectingInfo.source) {\n        if (this.hoveredConnector) {\n          if (this.connectingInfo.source.id !== this.hoveredConnector.node.id) {\n            // Node can't connect to itself\n            let tempId = +new Date();\n            let conn = {\n              source: {\n                id: this.connectingInfo.source.id,\n                position: this.connectingInfo.sourcePosition,\n              },\n              destination: {\n                id: this.hoveredConnector.node.id,\n                position: this.hoveredConnector.position,\n              },\n              id: tempId,\n              type: \"pass\",\n              name: \"Pass\",\n            };\n            this.connections.push(conn);\n            this.$emit(\"connect\", conn, this.nodes, this.connections);\n          }\n        }\n        this.connectingInfo.source = null;\n        this.connectingInfo.sourcePosition = null;\n      }\n      if (this.selectionInfo) {\n        this.selectionInfo = null;\n      }\n    },\n\n    async handleChartMouseMove(event) {\n      // calc offset of cursor to chart\n      let boundingClientRect = event.currentTarget.getBoundingClientRect();\n      let actualX = event.pageX - boundingClientRect.left - window.scrollX;\n      this.cursorToChartOffset.x = Math.trunc(actualX);\n      let actualY = event.pageY - boundingClientRect.top - window.scrollY;\n      this.cursorToChartOffset.y = Math.trunc(actualY);\n\n      if (this.connectingInfo.source) {\n        await this.renderConnections();\n\n        d3.selectAll(\"#svg .connector\").classed(\"active\", true);\n\n        let sourceOffset = this.getNodeConnectorOffset(\n          this.connectingInfo.source.id,\n          this.connectingInfo.sourcePosition\n        );\n        let destinationPosition = this.hoveredConnector\n          ? this.hoveredConnector.position\n          : null;\n        this.arrowTo(\n          sourceOffset.x,\n          sourceOffset.y,\n          this.cursorToChartOffset.x,\n          this.cursorToChartOffset.y,\n          this.connectingInfo.sourcePosition,\n          destinationPosition\n        );\n      }\n    },\n    \n    handleChartDblClick(event) {\n      if (this.readonly) {\n        return;\n      }\n      this.$emit(\"dblclick\", { x: event.offsetX, y: event.offsetY });\n    },\n\n    handleChartMouseDown(event) {\n      if (event.ctrlKey) {\n        return;\n      }\n      this.selectionInfo = { x: event.offsetX, y: event.offsetY };\n    },\n\n    getConnectorPosition(node) {\n      const halfWidth = node.width / 2;\n      const halfHeight = node.height / 2;\n      const top = { x: node.x + halfWidth, y: node.y };\n      const left = { x: node.x, y: node.y + halfHeight };\n      const bottom = { x: node.x + halfWidth, y: node.y + node.height };\n      const right = { x: node.x + node.width, y: node.y + halfHeight };\n      return { left, right, top, bottom };\n    },\n\n    renderSelection() {\n      let that = this;\n      // render selection rectangle\n      if (that.selectionInfo) {\n        that.currentNodes.splice(0, that.currentNodes.length);\n        that.currentConnections.splice(0, that.currentConnections.length);\n        let edge = getEdgeOfPoints([\n          { x: that.selectionInfo.x, y: that.selectionInfo.y },\n          { x: that.cursorToChartOffset.x, y: that.cursorToChartOffset.y },\n        ]);\n        let svg = d3.select(\"#svg\");\n        let rect = svg.select(\".selection\").classed(\"active\", true);\n        rect\n          .attr(\"x\", edge.start.x)\n          .attr(\"y\", edge.start.y)\n          .attr(\"width\", edge.end.x - edge.start.x)\n          .attr(\"height\", edge.end.y - edge.start.y);\n\n        that.nodes.forEach((item) => {\n          let points = [\n            { x: item.x, y: item.y },\n            { x: item.x, y: item.y + item.height },\n            { x: item.x + item.width, y: item.y },\n            { x: item.x + item.width, y: item.y + item.height },\n          ];\n          if (\n            points.every((point) => pointRectangleIntersection(point, edge))\n          ) {\n            that.currentNodes.push(item);\n          }\n        });\n        that.lines.forEach((line) => {\n          let points = [\n            { x: line.sourceX, y: line.sourceY },\n            { x: line.destinationX, y: line.destinationY },\n          ];\n          if (\n            points.every((point) => pointRectangleIntersection(point, edge)) &&\n            that.currentConnections.every((item) => item.id !== line.id)\n          ) {\n            let connection = that.connections.filter(\n              (conn) => conn.id === line.id\n            )[0];\n            that.currentConnections.push(connection);\n          }\n        });\n      } else {\n        d3.selectAll(\"#svg > .selection\").classed(\"active\", false);\n      }\n    },\n\n    renderConnections() {\n      let that = this;\n      return new Promise(function (resolve) {\n        that.$nextTick(function () {\n          d3.selectAll(\"#svg > g.connection\").remove();\n          // render lines\n          that.lines = [];\n          that.connections.forEach((conn) => {\n            let sourcePosition = that.getNodeConnectorOffset(\n              conn.source.id,\n              conn.source.position\n            );\n            let destinationPosition = that.getNodeConnectorOffset(\n              conn.destination.id,\n              conn.destination.position\n            );\n            let colors = {\n              pass: \"#52c41a\",\n              reject: \"red\",\n            };\n            if (\n              that.currentConnections.filter((item) => item === conn).length > 0\n            ) {\n              colors = {\n                pass: \"#12640a\",\n                reject: \"darkred\",\n              };\n            }\n            let result = that.arrowTo(\n              sourcePosition.x,\n              sourcePosition.y,\n              destinationPosition.x,\n              destinationPosition.y,\n              conn.source.position,\n              conn.destination.position,\n              colors[conn.type]\n            );\n            for (const path of result.paths) {\n              path.on(\"mousedown\", function () {\n                d3.event.stopPropagation();\n                if (that.pathClickedOnce) {\n                  that.editConnection(conn);\n                } else {\n                  let timer = setTimeout(function () {\n                    that.pathClickedOnce = false;\n                    clearTimeout(timer);\n                  }, 300);\n                  that.pathClickedOnce = true;\n                }\n                that.currentNodes.splice(0, that.currentNodes.length);\n                that.currentConnections.splice(\n                  0,\n                  that.currentConnections.length\n                );\n                that.currentConnections.push(conn);\n              });\n            }\n            for (const line of result.lines) {\n              that.lines.push({\n                sourceX: line.sourceX,\n                sourceY: line.sourceY,\n                destinationX: line.destinationX,\n                destinationY: line.destinationY,\n                id: conn.id,\n              });\n            }\n          });\n          resolve();\n        });\n      });\n    },\n\n    async renderNodes() {\n      d3.selectAll(\"#svg > g.node\").remove();\n      this.nodes.forEach(node => {\n        this.renderNode(\n          node,\n          this.currentNodes.filter((item) => item === node).length > 0\n        )\n      })\n    },\n\n    getNodeConnectorOffset(nodeId, connectorPosition) {\n      let node = this.nodes.filter((item) => item.id === nodeId)[0];\n      return this.getConnectorPosition(node)[connectorPosition];\n    },\n\n    append(element) {\n      let svg = d3.select(\"#svg\");\n      return svg.insert(element, \".selection\");\n    },\n\n    guideLineTo(x1, y1, x2, y2) {\n      let g = this.append(\"g\");\n      g.classed(\"guideline\", true);\n      lineTo(g, x1, y1, x2, y2, 1, \"#a3a3a3\", [5, 3]);\n    },\n\n    arrowTo(x1, y1, x2, y2, startPosition, endPosition, color) {\n      let g = this.append(\"g\");\n      g.classed(\"connection\", true);\n      connect(\n        g,\n        x1,\n        y1,\n        x2,\n        y2,\n        startPosition,\n        endPosition,\n        1,\n        color || \"#a3a3a3\",\n        true\n      );\n      // a 5px cover to make mouse operation conveniently\n      return connect(\n        g,\n        x1,\n        y1,\n        x2,\n        y2,\n        startPosition,\n        endPosition,\n        5,\n        \"transparent\",\n        false\n      );\n    },\n\n    renderNode(node, isSelected) {\n      let that = this;\n      let g = that.append(\"g\").attr(\"cursor\", \"move\").classed(\"node\", true);\n\n      if (node.render) {\n        node.render(g, isSelected);\n      }\n\n      let drag = d3\n        .drag()\n        .on(\"start\", function () {\n          // handle mousedown\n          let isNotCurrentNode =\n            that.currentNodes.filter((item) => item === node).length === 0;\n          if (isNotCurrentNode) {\n            that.currentConnections.splice(0, that.currentConnections.length);\n            that.currentNodes.splice(0, that.currentNodes.length);\n            that.currentNodes.push(node);\n          }\n\n          if (that.clickedOnce) {\n            that.currentNodes.splice(0, that.currentNodes.length);\n            that.editNode(node);\n          } else {\n            let timer = setTimeout(function () {\n              that.clickedOnce = false;\n              clearTimeout(timer);\n            }, 300);\n            that.clickedOnce = true;\n          }\n        })\n        .on(\"drag\", async function () {\n          if (that.readonly) {\n            return;\n          }\n\n          let zoom = parseFloat(document.getElementById(\"svg\").style.zoom || 1);\n          for (let currentNode of that.currentNodes) {\n            let x = d3.event.dx / zoom;\n            if (currentNode.x + x < 0) {\n              x = -currentNode.x;\n            }\n            currentNode.x += x;\n            let y = d3.event.dy / zoom;\n            if (currentNode.y + y < 0) {\n              y = -currentNode.y;\n            }\n            currentNode.y += y;\n          }\n\n          d3.selectAll(\"#svg > g.guideline\").remove();\n          let edge = that.getCurrentNodesEdge();\n          let expectX = Math.round(Math.round(edge.start.x) / 10) * 10;\n          let expectY = Math.round(Math.round(edge.start.y) / 10) * 10;\n          that.nodes.forEach((item) => {\n            if (\n              that.currentNodes.filter((currentNode) => currentNode === item)\n                .length === 0\n            ) {\n              if (item.x === expectX) {\n                // vertical guideline\n                if (item.y < expectY) {\n                  that.guideLineTo(\n                    item.x,\n                    item.y + item.height,\n                    expectX,\n                    expectY\n                  );\n                } else {\n                  that.guideLineTo(\n                    expectX,\n                    expectY + item.height,\n                    item.x,\n                    item.y\n                  );\n                }\n              }\n              if (item.y === expectY) {\n                // horizontal guideline\n                if (item.x < expectX) {\n                  that.guideLineTo(\n                    item.x + item.width,\n                    item.y,\n                    expectX,\n                    expectY\n                  );\n                } else {\n                  that.guideLineTo(\n                    expectX + item.width,\n                    expectY,\n                    item.x,\n                    item.y\n                  );\n                }\n              }\n            }\n          });\n        })\n        .on(\"end\", function () {\n          d3.selectAll(\"#svg > g.guideline\").remove();\n          for (let currentNode of that.currentNodes) {\n            currentNode.x = Math.round(Math.round(currentNode.x) / 10) * 10;\n            currentNode.y = Math.round(Math.round(currentNode.y) / 10) * 10;\n          }\n        });\n      g.call(drag);\n      g.on(\"mousedown\", function () {\n        // handle ctrl+mousedown\n        if (!d3.event.ctrlKey) {\n          return;\n        }\n        let isNotCurrentNode =\n          that.currentNodes.filter((item) => item === node).length === 0;\n        if (isNotCurrentNode) {\n          that.currentNodes.push(node);\n        } else {\n          that.currentNodes.splice(that.currentNodes.indexOf(node), 1);\n        }\n      });\n\n      let connectors = [];\n      let connectorPosition = this.getConnectorPosition(node);\n      for (let position in connectorPosition) {\n        let positionElement = connectorPosition[position];\n        let connector = g\n          .append(\"circle\")\n          .attr(\"cx\", positionElement.x)\n          .attr(\"cy\", positionElement.y)\n          .attr(\"r\", 4)\n          .attr(\"class\", \"connector\");\n        connector\n          .on(\"mousedown\", function () {\n            d3.event.stopPropagation();\n            if (node.type === \"end\" || that.readonly) {\n              return;\n            }\n            that.connectingInfo.source = node;\n            that.connectingInfo.sourcePosition = position;\n          })\n          .on(\"mouseup\", function () {\n            d3.event.stopPropagation();\n            if (that.connectingInfo.source) {\n              if (that.connectingInfo.source.id !== node.id) {\n                // Node can't connect to itself\n                let tempId = +new Date();\n                let conn = {\n                  source: {\n                    id: that.connectingInfo.source.id,\n                    position: that.connectingInfo.sourcePosition,\n                  },\n                  destination: {\n                    id: node.id,\n                    position: position,\n                  },\n                  id: tempId,\n                  type: \"pass\",\n                  name: \"Pass\",\n                };\n                that.connections.push(conn);\n                that.$emit(\"connect\", conn, that.nodes, that.connections);\n              }\n              that.connectingInfo.source = null;\n              that.connectingInfo.sourcePosition = null;\n            }\n          })\n          .on(\"mouseover\", function () {\n            connector.classed(\"active\", true);\n          })\n          .on(\"mouseout\", function () {\n            connector.classed(\"active\", false);\n          });\n        connectors.push(connector);\n      }\n      g.on(\"mouseover\", function () {\n        connectors.forEach((conn) => conn.classed(\"active\", true));\n      }).on(\"mouseout\", function () {\n        connectors.forEach((conn) => conn.classed(\"active\", false));\n      });\n    },\n\n    getCurrentNodesEdge() {\n      let points = this.currentNodes.map((node) => ({\n        x: node.x,\n        y: node.y,\n      }));\n      points.push(\n        ...this.currentNodes.map((node) => ({\n          x: node.x + node.width,\n          y: node.y + node.height,\n        }))\n      );\n      return getEdgeOfPoints(points);\n    },\n\n    save() {\n      if (this.readonly) {\n        return;\n      }\n      this.$emit(\"save\", this.nodes, this.connections);\n    },\n\n    async remove() {\n      if (this.readonly) {\n        return;\n      }\n      if (this.currentConnections.length > 0) {\n        for (let conn of this.currentConnections) {\n          this.removeConnection(conn);\n        }\n        this.currentConnections.splice(0, this.currentConnections.length);\n      }\n      if (this.currentNodes.length > 0) {\n        for (let node of this.currentNodes) {\n          this.removeNode(node);\n        }\n        this.currentNodes.splice(0, this.currentNodes.length);\n      }\n    },\n\n    removeNode(node) {\n      const connections = this.connections.filter(\n        (item) => item.source.id === node.id || item.destination.id === node.id\n      );\n      for (const connection of connections) {\n        this.connections.splice(\n          this.connections.indexOf(connection),\n          1\n        );\n      }\n      this.nodes.splice(this.nodes.indexOf(node), 1);\n      this.$emit(\"delete\", node, this.nodes, this.connections);\n    },\n\n    removeConnection(conn) {\n      const index = this.connections.indexOf(conn);\n      this.connections.splice(index, 1);\n      this.$emit(\"disconnect\", conn, this.nodes, this.connections);\n    },\n\n    moveCurrentNode(x, y) {\n      if (this.currentNodes.length > 0 && !this.readonly) {\n        for (const node of this.currentNodes) {\n          if (node.x + x < 0) {\n            x = -node.x;\n          }\n          node.x += x;\n          if (node.y + y < 0) {\n            y = -node.y;\n          }\n          node.y += y;\n        }\n      }\n    },\n  },\n  mounted() {\n    this.renderNodes()\n    this.renderConnections()\n    document.onkeydown = (event) => {\n      switch (event.keyCode) {\n        case 37:\n          this.moveCurrentNode(-10, 0);\n          break;\n        case 38:\n          this.moveCurrentNode(0, -10);\n          break;\n        case 39:\n          this.moveCurrentNode(10, 0);\n          break;\n        case 40:\n          this.moveCurrentNode(0, 10);\n          break;\n        case 27:\n          this.currentNodes.splice(0, this.currentNodes.length);\n          this.currentConnections.splice(0, this.currentConnections.length);\n          break;\n        case 65:\n          if (document.activeElement === document.getElementById(\"chart\")) {\n            this.currentNodes.splice(0, this.currentNodes.length);\n            this.currentConnections.splice(0, this.currentConnections.length);\n            this.currentNodes.push(...this.nodes);\n            this.currentConnections.push(...this.connections);\n            event.preventDefault();\n          }\n          break;\n        case 46:\n          this.remove();\n          break;\n        default:\n          break;\n      }\n    };\n  },\n  created() {},\n  computed: {\n    hoveredConnector() {\n      for (const node of this.nodes) {\n        let connectorPosition = this.getConnectorPosition(node);\n        for (let prop in connectorPosition) {\n          let entry = connectorPosition[prop];\n          if (\n            Math.hypot(\n              entry.x - this.cursorToChartOffset.x,\n              entry.y - this.cursorToChartOffset.y\n            ) < 10\n          ) {\n            return { position: prop, node: node };\n          }\n        }\n      }\n      return null;\n    },\n    hoveredConnection() {\n      for (const line of this.lines) {\n        let distance = distanceOfPointToLine(\n          line.sourceX,\n          line.sourceY,\n          line.destinationX,\n          line.destinationY,\n          this.cursorToChartOffset.x,\n          this.cursorToChartOffset.y\n        );\n        if (\n          distance < 5 &&\n          between(\n            line.sourceX - 2,\n            line.destinationX + 2,\n            this.cursorToChartOffset.x\n          ) &&\n          between(\n            line.sourceY - 2,\n            line.destinationY + 2,\n            this.cursorToChartOffset.y\n          )\n        ) {\n          let connections = this.connections.filter(\n            (item) => item.id === line.id\n          );\n          return connections.length > 0 ? connections[0] : null;\n        }\n      }\n      return null;\n    },\n    cursor() {\n      if (this.connectingInfo.source || this.hoveredConnector) {\n        return \"crosshair\";\n      }\n      if (this.hoveredConnection != null) {\n        return \"pointer\";\n      }\n      return null;\n    },\n  },\n  watch: {\n    selectionInfo: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.renderSelection();\n      },\n    },\n    currentNodes: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.$emit('select', this.currentNodes);\n        this.renderNodes();\n      },\n    },\n    currentConnections: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.$emit('selectconnection', this.currentConnections);\n        this.renderConnections();\n      },\n    },\n    cursorToChartOffset: {\n      immediate: true,\n      deep: true,\n      handler() {\n        if (this.selectionInfo) {\n          this.renderSelection();\n        }\n      },\n    },\n    connectingInfo: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.renderConnections();\n      },\n    },\n    nodes: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.renderNodes();\n        this.renderConnections();\n      },\n    },\n    connections: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.renderConnections();\n      },\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flowchart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Flowchart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Flowchart.vue?vue&type=template&id=7dfb6cf1&\"\nimport script from \"./Flowchart.vue?vue&type=script&lang=js&\"\nexport * from \"./Flowchart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.css?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as d3 from \"d3\";\nimport { roundTo20 } from \"../utils/math\";\n\nconst borderColor = (isSelected) => isSelected ? '#666666' : '#bbbbbb';\n\nclass AbstractNode {\n  id;\n  width;\n  height;\n  x;\n  y;\n  text;\n  type;\n\n  constructor(id, x, y) {\n    this.id = id;\n    this.x = x;\n    this.y = y;\n    this.width = 120;\n    this.height = 80;\n  }\n\n  // eslint-disable-next-line\n  render(g, isSelected) { }\n}\n\nexport class StartNode extends AbstractNode {\n  constructor(id, x, y) {\n    super(id, x, y);\n    this.name = \"Start\";\n    this.type = \"start\";\n  }\n\n  render(g, isSelected) {\n    super.render(g, isSelected);\n\n    const body = g.append(\"rect\").attr(\"class\", \"body\");\n    body.style(\"width\", this.width + \"px\");\n    body.style(\"fill\", \"white\");\n    body.style(\"stroke-width\", \"1px\");\n    body.attr(\"x\", this.x)\n    body.attr(\"y\", this.y)\n    body.attr(\"rx\", 30);\n    body.style(\"height\", roundTo20(this.height) + \"px\");\n    body.attr(\"stroke\", borderColor(isSelected));\n    renderText(this, g)\n  }\n}\n\n// For now the same as StartNode\nexport class EndNode extends StartNode {\n  constructor(id, x, y) {\n    super(id, x, y);\n    this.name = \"End\";\n    this.type = \"end\";\n  }\n\n  render(g, isSelected) { super.render(g, isSelected) }\n}\n\nexport class OperationNode extends AbstractNode {\n  constructor(id, x, y, name) {\n    super(id, x, y);\n    this.name = name;\n    this.type = \"operation\";\n  }\n\n  render(g, isSelected) { \n    super.render(g, isSelected) \n\n    g.append(\"rect\").attr(\"class\", \"body\")\n      .style(\"width\", this.width + \"px\")\n      .style(\"fill\", \"white\")\n      .style(\"stroke-width\", \"1px\")\n      .attr(\"x\", this.x)\n      .attr(\"y\", this.y)\n      .style(\"height\", roundTo20(this.height) + \"px\")\n      .attr(\"stroke\", borderColor(isSelected));\n    renderText(this, g)\n  }\n}\n\nexport class DesicionNode extends AbstractNode {\n  constructor(id, x, y, name) {\n    super(id, x, y);\n    this.name = name;\n    this.type = \"desicion\";\n  }\n\n  render(g, isSelected) {\n    super.render(g, isSelected)\n    const body = g.append(\"polygon\").attr(\"class\", \"body\");\n    body.attr(\"points\", [\n      `${this.x}, ${this.y + this.height / 2}`,\n      `${this.x + this.width / 2}, ${this.y}`,\n      `${this.x + this.width}, ${this.y + this.height / 2}`,\n      `${this.x + this.width / 2}, ${this.y + this.height}`,\n      `${this.x}, ${this.y + this.height / 2}`,\n    ].join(' '));\n    body.style(\"fill\", \"white\");\n    body.style(\"stroke-width\", \"1px\");\n    body.classed(this.type, true);\n    body.attr(\"stroke\", borderColor(isSelected));\n    renderText(this, g)\n  }\n}\n\nconst renderText = (node, g) => {\n  g.append(\"text\")\n    .attr(\"x\", node.x + node.width / 2)\n    .attr(\"y\", node.y + 5 + roundTo20(node.height) / 2)\n    .attr(\"class\", \"unselectable\")\n    .attr(\"text-anchor\", \"middle\")\n    .text(function () { return node.name; })\n    .each(function wrap() {\n      let self = d3.select(this);\n      let textLength = self.node().getComputedTextLength();\n      let text = self.text();\n\n      while (textLength > node.width - 2 * 4 && text.length > 0) {\n        text = text.slice(0, -1);\n        self.text(text + \"...\");\n        textLength = self.node().getComputedTextLength();\n      }\n    });\n}\n","class AbstractConnection {\n  source;\n  destination;\n  id;\n  type;\n\n  constructor(id, source, destination) {\n    this.id = id;\n    this.source = source;\n    this.destination = destination;\n    this.type = \"pass\";\n  }\n  \n  render() {}\n}\n\nexport class ArrowConnection extends AbstractConnection {\n  constructor(id, source, destination) {\n    super(id, source, destination);\n  }\n}\n\nexport class PassConnection extends ArrowConnection {\n  constructor(id, source, destination) {\n    super(id, source, destination);\n  }\n}\n\nexport class RejectConnection extends ArrowConnection {\n  constructor(id, source, destination) {\n    super(id, source, destination);\n  }\n}\n","<template>\n  <div class=\"container\">\n    <h1 class=\"title\">Flowchart Vue</h1>\n    <h5 class=\"subtitle\">\n      Flowchart & Flowchart designer component for Vue.js.\n    </h5>\n    <div id=\"toolbar\">\n      <button\n        @click=\"\n          $refs.chart.add({\n            id: +new Date(),\n            x: 10,\n            y: 10,\n            name: 'New',\n            type: 'operation',\n            approvers: [],\n          })\n        \"\n      >\n        Add(Double-click canvas)\n      </button>\n      <button @click=\"$refs.chart.remove()\">Delete(Del)</button>\n      <button @click=\"$refs.chart.editCurrent()\">\n        Edit(Double-click node)\n      </button>\n      <button @click=\"$refs.chart.save()\">Save</button>\n    </div>\n    <flowchart\n      :nodes=\"nodes\"\n      :connections=\"connections\"\n      @editnode=\"handleEditNode\"\n      :width=\"'100%'\"\n      :height=\"500\"\n      :readonly=\"false\"\n      @dblclick=\"handleDblClick\"\n      @editconnection=\"handleEditConnection\"\n      @save=\"handleChartSave\"\n      @select=\"handleSelect\"\n      @selectconnection=\"handleSelectConnection\"\n      ref=\"chart\"\n    >\n    </flowchart>\n    <node-dialog\n      :visible.sync=\"nodeDialogVisible\"\n      :node.sync=\"nodeForm.target\"\n    ></node-dialog>\n    <connection-dialog\n      :visible.sync=\"connectionDialogVisible\"\n      :connection.sync=\"connectionForm.target\"\n      :operation=\"connectionForm.operation\"\n    >\n    </connection-dialog>\n  </div>\n</template>\n<script>\n/* eslint-disable no-unused-vars */\n\nimport ConnectionDialog from \"../components/ConnectionDialog\";\nimport NodeDialog from \"../components/NodeDialog\";\nimport Flowchart from \"../components/flowchart/Flowchart\";\nimport { StartNode, EndNode, OperationNode, DesicionNode } from \"../components/Node\";\nimport { ArrowConnection } from \"../components/Connection\";\n\nexport default {\n  components: {\n    ConnectionDialog,\n    NodeDialog,\n    Flowchart,\n  },\n  data: function () {\n    return {\n      nodes: [\n        new StartNode(1, 100, 220),\n        new OperationNode(2, 250, 220, \"Op\"),\n        new DesicionNode(3, 400, 220, \"De\"),\n        new EndNode(4, 550, 220),\n      ],\n      connections: [\n        new ArrowConnection(\n          1, \n          { id: 1, position: \"right\" }, \n          { id: 2, position: \"left\" }\n        )\n      ],\n      nodeForm: { target: null },\n      connectionForm: { target: null, operation: null },\n      nodeDialogVisible: false,\n      connectionDialogVisible: false,\n    };\n  },\n  async mounted() {},\n  methods: {\n    add(x, y) {\n      this.$refs.chart.add(new OperationNode(+new Date(), x, y, \"New\"))\n    },\n    handleDblClick(position) {\n      /* this.add(position.x, position.y) */\n    },\n    handleSelect(nodes) { },\n    handleSelectConnection(connections) { },\n    async handleChartSave(nodes, connections) { },\n    handleEditNode(node) {\n      this.nodeForm.target = node;\n      this.nodeDialogVisible = true;\n    },\n    handleEditConnection(connection) {\n      this.connectionForm.target = connection;\n      this.connectionDialogVisible = true;\n    },\n  },\n};\n</script>\n<style scoped>\n#toolbar {\n  margin-bottom: 10px;\n}\n\n.title {\n  margin-top: 10px;\n  margin-bottom: 0;\n}\n\n.subtitle {\n  margin-bottom: 10px;\n}\n\n#toolbar > button {\n  margin-right: 4px;\n}\n\n.container {\n  width: 800px;\n  margin: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=169a91f4&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=169a91f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"169a91f4\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './views/App';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  el: '#app',\n  mounted() {},\n  components: {\n    App,\n  },\n});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--6-oneOf-3-1!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-3-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-3-3!./modal.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"e65d5572\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#toolbar[data-v-169a91f4]{margin-bottom:10px}.title[data-v-169a91f4]{margin-top:10px;margin-bottom:0}.subtitle[data-v-169a91f4]{margin-bottom:10px}#toolbar>button[data-v-169a91f4]{margin-right:4px}.container[data-v-169a91f4]{width:800px;margin:auto}\", \"\"]);\n\n// exports\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=169a91f4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=169a91f4&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=169a91f4&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4f0d2011\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}